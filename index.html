<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movies Points - Advanced Note Management</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            min-height: 100vh;
            padding: 15px;
            transition: background 0.5s ease;
        }

        body.dark-mode {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            display: flex;
            flex-direction: column;
            gap: 15px;
            padding: 15px 0;
            margin-bottom: 20px;
            border-bottom: 2px solid rgba(255, 255, 255, 0.2);
        }

        @media (min-width: 768px) {
            header {
                flex-direction: row;
                justify-content: space-between;
                align-items: center;
            }
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo i {
            font-size: 32px;
            color: #fff;
        }

        .logo h1 {
            font-size: 28px;
            color: #fff;
            font-weight: 600;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .header-controls {
            display: flex;
            align-items: center;
            gap: 10px;
            flex-wrap: wrap;
        }

        .admin-panel-btn {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            transition: background 0.3s;
            backdrop-filter: blur(10px);
            font-size: 14px;
        }

        .admin-panel-btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .theme-toggle {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(10px);
        }

        .search-container {
            display: flex;
            align-items: center;
            gap: 10px;
            width: 100%;
        }

        @media (min-width: 480px) {
            .search-container {
                width: auto;
            }
        }

        .search-bar {
            display: flex;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 50px;
            padding: 8px 15px;
            width: 100%;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .search-bar input {
            border: none;
            outline: none;
            width: 100%;
            padding: 5px;
            font-size: 16px;
            background: transparent;
        }

        .search-btn {
            background: #5b6ab0;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            transition: background 0.3s;
            display: none;
        }

        @media (min-width: 480px) {
            .search-btn {
                display: block;
            }
        }

        .search-btn:hover {
            background: #4a5999;
        }

        .notes-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
            margin-top: 25px;
        }

        @media (min-width: 600px) {
            .notes-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (min-width: 992px) {
            .notes-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        .note {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 12px;
            padding: 18px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            position: relative;
            transition: transform 0.3s, box-shadow 0.3s;
            overflow: hidden;
        }

        .dark-mode .note {
            background: rgba(30, 30, 46, 0.95);
            color: #f0f0f0;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.4);
        }

        .note:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
        }

        .note-title {
            font-weight: 700;
            margin-bottom: 12px;
            color: #2c3e50;
            font-size: 18px;
            border-bottom: 1px solid #eee;
            padding-bottom: 8px;
        }

        .dark-mode .note-title {
            color: #bd93f9;
            border-bottom: 1px solid #44475a;
        }

        .note-content {
            color: #34495e;
            margin-bottom: 15px;
            line-height: 1.5;
            font-size: 15px;
            max-height: 150px;
            overflow: hidden;
            position: relative;
        }

        .dark-mode .note-content {
            color: #f8f8f2;
        }

        .note-content.expanded {
            max-height: none;
        }

        .read-more {
            position: absolute;
            bottom: 0;
            right: 0;
            background: linear-gradient(to right, transparent, white 50%);
            padding-left: 20px;
            color: #3498db;
            cursor: pointer;
            font-size: 12px;
        }

        .dark-mode .read-more {
            background: linear-gradient(to right, transparent, #1e1e2e 50%);
            color: #8be9fd;
        }

        .video-container {
            position: relative;
            margin-bottom: 12px;
        }

        .video-thumbnail {
            width: 100%;
            border-radius: 8px;
            cursor: pointer;
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.1);
        }

        .play-button {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 50px;
            color: white;
            opacity: 0.85;
            cursor: pointer;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
            transition: opacity 0.3s;
        }

        .play-button:hover {
            opacity: 1;
        }

        .note-footer {
            display: flex;
            justify-content: space-between;
            color: #95a5a6;
            font-size: 13px;
            border-top: 1px solid #ecf0f1;
            padding-top: 12px;
            margin-top: 15px;
            flex-wrap: wrap;
            gap: 10px;
        }

        .dark-mode .note-footer {
            color: #6272a4;
            border-top: 1px solid #44475a;
        }

        .note-actions {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .note-action-btn {
            background: none;
            border: none;
            color: #5b6ab0;
            cursor: pointer;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 5px;
            padding: 5px;
        }

        .dark-mode .note-action-btn {
            color: #bd93f9;
        }

        .video-links {
            margin-top: 15px;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .video-link-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px;
            background: #f8f9fa;
            border-radius: 6px;
            font-size: 14px;
        }

        .dark-mode .video-link-item {
            background: #44475a;
        }

        .video-link-item a {
            color: #5b6ab0;
            text-decoration: none;
            flex: 1;
            font-size: 13px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .dark-mode .video-link-item a {
            color: #8be9fd;
        }

        .video-link-item button {
            background: #5b6ab0;
            color: white;
            border: none;
            padding: 5px 8px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .dark-mode .video-link-item button {
            background: #6272a4;
        }

        .link-actions {
            display: flex;
            gap: 5px;
        }

        .copy-btn {
            background: #3498db;
        }

        .comments-section {
            margin-top: 15px;
            border-top: 1px solid #ecf0f1;
            padding-top: 15px;
            display: none;
        }

        .comments-section.active {
            display: block;
        }

        .dark-mode .comments-section {
            border-top: 1px solid #44475a;
        }

        .comment {
            background: #f8f9fa;
            padding: 10px;
            border-radius: 8px;
            margin-bottom: 10px;
            font-size: 14px;
        }

        .dark-mode .comment {
            background: #44475a;
            color: #f8f8f2;
        }

        .comment-form {
            display: flex;
            margin-top: 15px;
        }

        .comment-input {
            flex: 1;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
        }

        .dark-mode .comment-input {
            background: #282a36;
            border: 1px solid #44475a;
            color: #f8f8f2;
        }

        .comment-submit {
            background: #5b6ab0;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 4px;
            cursor: pointer;
            margin-left: 10px;
        }

        .dark-mode .comment-submit {
            background: #6272a4;
        }

        .pagination {
            display: flex;
            justify-content: center;
            margin: 30px 0;
            gap: 15px;
        }

        .pagination-btn {
            background: #5b6ab0;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            transition: background 0.3s;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
        }

        .pagination-btn:hover:not(:disabled) {
            background: #4a5999;
        }

        .pagination-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        .home-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #5b6ab0;
            color: white;
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 20px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background 0.3s, transform 0.3s;
            z-index: 999;
        }

        .home-btn:hover {
            background: #4a5999;
            transform: scale(1.1);
        }

        .admin-panel {
            display: none;
            position: fixed;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            background: white;
            z-index: 1000;
            padding: 20px;
            overflow-y: auto;
            transform: translateX(100%);
            transition: transform 0.3s ease;
        }

        @media (min-width: 768px) {
            .admin-panel {
                width: 400px;
            }
        }

        .dark-mode .admin-panel {
            background: #282a36;
            color: #f8f8f2;
            box-shadow: -5px 0 15px rgba(0, 0, 0, 0.4);
        }

        .admin-panel.active {
            display: block;
            transform: translateX(0);
        }

        .admin-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }

        .dark-mode .admin-header {
            border-bottom: 1px solid #44475a;
        }

        .admin-header h2 {
            color: #5b6ab0;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .dark-mode .admin-header h2 {
            color: #bd93f9;
        }

        .admin-header h2 i {
            font-size: 24px;
            color: #5b6ab0;
        }

        .dark-mode .admin-header h2 i {
            color: #bd93f9;
        }

        .close-admin {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #5b6ab0;
        }

        .dark-mode .close-admin {
            color: #bd93f9;
        }

        .note-creator {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
        }

        .dark-mode .note-creator {
            background: rgba(30, 30, 46, 0.95);
        }

        .note-creator h3 {
            margin-bottom: 15px;
            color: #2c3e50;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .dark-mode .note-creator h3 {
            color: #bd93f9;
        }

        .note-creator h3 i {
            font-size: 20px;
            color: #5b6ab0;
        }

        .dark-mode .note-creator h3 i {
            color: #bd93f9;
        }

        .note-creator input,
        .note-creator textarea {
            width: 100%;
            border: none;
            outline: none;
            padding: 12px;
            margin-bottom: 15px;
            font-size: 16px;
            background: rgba(0, 0, 0, 0.03);
            border-radius: 6px;
            border: 1px solid #ddd;
        }

        .dark-mode .note-creator input,
        .dark-mode .note-creator textarea {
            background: rgba(0, 0, 0, 0.2);
            color: #f8f8f2;
            border: 1px solid #44475a;
        }

        .note-creator input {
            font-weight: 600;
            font-size: 18px;
        }

        .extra-links {
            margin: 15px 0;
        }

        .extra-links h4 {
            margin-bottom: 10px;
            color: #2c3e50;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .dark-mode .extra-links h4 {
            color: #bd93f9;
        }

        .extra-links h4 i {
            font-size: 18px;
            color: #5b6ab0;
        }

        .dark-mode .extra-links h4 i {
            color: #bd93f9;
        }

        .extra-link-input {
            display: flex;
            gap: 10px;
            margin-bottom: 10px;
            flex-direction: column;
        }

        @media (min-width: 480px) {
            .extra-link-input {
                flex-direction: row;
            }
        }

        .extra-link-input input {
            flex: 1;
            margin-bottom: 0;
        }

        .upload-container {
            margin: 15px 0;
        }

        .upload-btn {
            display: inline-block;
            padding: 10px 15px;
            background: #5b6ab0;
            color: white;
            border-radius: 6px;
            cursor: pointer;
            margin-top: 10px;
            border: none;
        }

        .dark-mode .upload-btn {
            background: #6272a4;
        }

        .upload-btn i {
            margin-right: 5px;
        }

        #thumbnail-upload {
            display: none;
        }

        .rating {
            margin: 15px 0;
        }

        .rating-text {
            margin-bottom: 8px;
            font-weight: 500;
            color: #2c3e50;
        }

        .dark-mode .rating-text {
            color: #bd93f9;
        }

        .stars {
            display: flex;
            gap: 5px;
        }

        .star {
            color: #ccc;
            cursor: pointer;
            font-size: 24px;
            transition: color 0.2s;
        }

        .star:hover,
        .star.active {
            color: #ffc107;
        }

        .auth-container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 12px;
            padding: 25px;
            margin: 20px 0;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
        }

        .dark-mode .auth-container {
            background: rgba(30, 30, 46, 0.95);
        }

        .auth-container h3 {
            color: #5b6ab0;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 18px;
        }

        .dark-mode .auth-container h3 {
            color: #bd93f9;
        }

        .auth-container h3 i {
            font-size: 20px;
        }

        .auth-container input {
            width: 100%;
            padding: 12px;
            margin: 10px 0;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 16px;
        }

        .dark-mode .auth-container input {
            background: #282a36;
            border: 1px solid #44475a;
            color: #f8f8f2;
        }

        .auth-btn {
            background: #5b6ab0;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            width: 100%;
            font-size: 16px;
            margin-top: 10px;
            transition: background 0.3s;
        }

        .auth-btn:hover {
            background: #4a5999;
        }

        .notification {
            position: fixed;
            bottom: 20px;
            left: 20px;
            padding: 15px 25px;
            border-radius: 8px;
            background: #2ecc71;
            color: white;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            transform: translateY(100px);
            opacity: 0;
            transition: transform 0.3s, opacity 0.3s;
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 10px;
            max-width: calc(100% - 40px);
        }

        .notification.show {
            transform: translateY(0);
            opacity: 1;
        }

        .notification.error {
            background: #e74c3c;
        }

        .empty-state {
            text-align: center;
            padding: 40px;
            color: white;
            grid-column: 1 / -1;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .empty-state i {
            font-size: 60px;
            margin-bottom: 20px;
            opacity: 0.7;
        }

        .empty-state p {
            font-size: 18px;
            margin-bottom: 20px;
        }

        .empty-state button {
            background: white;
            color: #6a11cb;
            border: none;
            padding: 12px 25px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            transition: background 0.3s;
        }

        .video-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }

        .video-modal.active {
            display: flex;
        }

        .video-modal-content {
            width: 90%;
            max-width: 800px;
            position: relative;
        }

        .video-modal-content iframe {
            width: 100%;
            height: 300px;
            border: none;
            border-radius: 8px;
        }

        @media (min-width: 768px) {
            .video-modal-content iframe {
                height: 450px;
            }
        }

        .close-video {
            position: absolute;
            top: -40px;
            right: 0;
            color: white;
            font-size: 30px;
            cursor: pointer;
        }

        .live-player {
            width: 100%;
            height: 200px;
            background: #000;
            border-radius: 8px;
            margin-bottom: 15px;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            flex-direction: column;
        }

        .live-player i {
            font-size: 50px;
            margin-bottom: 15px;
        }

        .note-rating {
            display: flex;
            align-items: center;
            gap: 5px;
            margin-top: 10px;
        }

        .note-rating .star {
            font-size: 16px;
        }

        .note-rating-value {
            font-size: 14px;
            color: #95a5a6;
        }

        .dark-mode .note-rating-value {
            color: #6272a4;
        }

        .adsense-container {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin: 30px 0;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            grid-column: 1 / -1;
        }

        .dark-mode .adsense-container {
            background: #282a36;
        }

        .adsense-label {
            font-size: 12px;
            color: #95a5a6;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
        }

        .adsense-label i {
            font-size: 14px;
        }

        .adsense-content {
            min-height: 90px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
        }

        .dark-mode .adsense-content {
            background: #44475a;
        }

        .adsense-content p {
            margin-bottom: 10px;
            color: #7f8c8d;
        }

        .dark-mode .adsense-content p {
            color: #f8f8f2;
        }

        .adsense-ad {
            width: 100%;
            max-width: 728px;
            height: 90px;
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            border-radius: 8px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 20px;
            color: white;
            flex-direction: column;
            padding: 10px;
        }

        @media (min-width: 468px) {
            .adsense-ad {
                font-size: 24px;
                flex-direction: row;
            }
        }

        .adsense-ad i {
            font-size: 40px;
            margin-right: 10px;
            margin-bottom: 10px;
        }

        @media (min-width: 468px) {
            .adsense-ad i {
                margin-bottom: 0;
            }
        }

        .mobile-search-btn {
            background: #5b6ab0;
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        @media (min-width: 480px) {
            .mobile-search-btn {
                display: none;
            }
        }

        .dark-mode .mobile-search-btn {
            background: #6272a4;
        }

        .star-rating-widget {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 15px 0;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .dark-mode .star-rating-widget {
            background: #44475a;
        }

        .rating-stars {
            display: flex;
            gap: 5px;
        }

        .rating-stars .star {
            font-size: 20px;
            cursor: pointer;
        }

        .rating-value {
            font-weight: bold;
            color: #5b6ab0;
        }

        .dark-mode .rating-value {
            color: #bd93f9;
        }

        .video-player-container {
            width: 100%;
            margin: 20px 0;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .video-player-header {
            background: #5b6ab0;
            color: white;
            padding: 12px 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .dark-mode .video-player-header {
            background: #6272a4;
        }

        .video-player-header h3 {
            font-size: 16px;
            margin: 0;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .video-player {
            width: 100%;
            height: 250px;
            background: #000;
        }

        @media (min-width: 768px) {
            .video-player {
                height: 300px;
            }
        }

        .video-player-placeholder {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100%;
            color: white;
            flex-direction: column;
            gap: 15px;
        }

        .video-player-placeholder i {
            font-size: 50px;
            color: #5b6ab0;
        }

        .video-player-controls {
            display: flex;
            gap: 10px;
            padding: 10px;
            background: #f8f9fa;
        }

        .dark-mode .video-player-controls {
            background: #44475a;
        }

        .video-player-btn {
            padding: 8px 15px;
            background: #5b6ab0;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .dark-mode .video-player-btn {
            background: #6272a4;
        }

        .video-player-btn:hover {
            opacity: 0.9;
        }

        .waiting-point {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #ffc107;
            margin: 0 5px;
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0% {
                opacity: 1;
            }

            50% {
                opacity: 0.4;
            }

            100% {
                opacity: 1;
            }
        }

        .year-badge {
            background: #5b6ab0;
            color: white;
            padding: 4px 8px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
        }

        .dark-mode .year-badge {
            background: #6272a4;
        }
    </style>
</head>

<body>
    <div class="container">
        <header>
            <div class="logo">
                <i class="fas fa-film"></i>
                <h1>Movies Points</h1>
            </div>
            <div class="header-controls">
                <div class="search-container">
                    <div class="search-bar">
                        <input type="text" placeholder="Search movies..." id="search-input">
                    </div>
                    <button class="mobile-search-btn" id="mobile-search-btn"><i class="fas fa-search"></i></button>
                    <button class="search-btn" id="search-btn"><i class="fas fa-search"></i> Search</button>
                </div>
                <button class="theme-toggle" id="theme-toggle">
                    <i class="fas fa-moon"></i>
                </button>
                <button class="admin-panel-btn" id="admin-panel-toggle-btn">
                    <i class="fas fa-tools"></i> Admin Panel
                </button>
            </div>
        </header>

        <div class="video-player-container">
            <div class="video-player-header">
                <h3><i class="fas fa-play-circle"></i> Featured Movie</h3>
                <span class="year-badge">2023</span>
            </div>
            <div class="video-player" id="main-video-player">
                <div class="video-player-placeholder">
                    <i class="fas fa-video"></i>
                    <p>Select a movie to play</p>
                </div>
            </div>
            <div class="video-player-controls">
                <button class="video-player-btn" id="play-btn"><i class="fas fa-play"></i> Play</button>
                <button class="video-player-btn" id="pause-btn"><i class="fas fa-pause"></i> Pause</button>
                <button class="video-player-btn" id="volume-btn"><i class="fas fa-volume-up"></i> Volume</button>
            </div>
        </div>

        <div class="notes-grid" id="notes-grid">
            <div class="empty-state" id="empty-state">
                <i class="fas fa-folder-open"></i>
                <h2>No movies found.</h2>
                <p>Click the Admin Panel button to add your first movie.</p>
            </div>
        </div>

        <div class="adsense-container">
            <div class="adsense-label">
                <i class="fas fa-ad"></i> Advertisement
            </div>
            <div class="adsense-content">
                <div class="adsense-ad">
                    <i class="fab fa-google"></i>
                    <span>Google AdSense Ad</span>
                </div>
            </div>
        </div>

        <div class="pagination" id="pagination">
            <button class="pagination-btn" id="prev-page"><i class="fas fa-chevron-left"></i> Previous</button>
            <button class="pagination-btn" id="next-page">Next <i class="fas fa-chevron-right"></i></button>
        </div>
    </div>

    <div class="admin-panel" id="admin-panel">
        <div class="admin-header">
            <h2><i class="fas fa-tools"></i> Admin Panel</h2>
            <button class="close-admin" id="close-admin-btn"><i class="fas fa-times"></i></button>
        </div>

        <div class="auth-container" id="login-form">
            <h3><i class="fas fa-lock"></i> Admin Login</h3>
            <input type="email" id="admin-email" placeholder="Admin Email" value="amjad@gmail.com">
            <input type="password" id="admin-password" placeholder="Password" value="password">
            <button class="auth-btn" id="login-btn">Login</button>
        </div>

        <div class="note-creator" id="note-creator" style="display: none;">
            <h3><i class="fas fa-plus-circle"></i> Add New Movie</h3>
            <form id="note-form">
                <input type="text" id="note-title" placeholder="Movie Title" required>
                <textarea id="note-content" placeholder="Movie Description" rows="5" required></textarea>

                <div class="upload-container">
                    <label for="thumbnail-upload" class="upload-btn">
                        <i class="fas fa-upload"></i> Upload Thumbnail
                    </label>
                    <input type="file" id="thumbnail-upload" accept="image/*">
                    <div id="thumbnail-preview"></div>
                </div>

                <input type="url" id="video-url" placeholder="Video URL (Required)" required>

                <div class="star-rating-widget">
                    <div class="rating-text">Rate this movie:</div>
                    <div class="rating-stars">
                        <span class="star" data-value="1">★</span>
                        <span class="star" data-value="2">★</span>
                        <span class="star" data-value="3">★</span>
                        <span class="star" data-value="4">★</span>
                        <span class="star" data-value="5">★</span>
                    </div>
                    <span class="rating-value" id="rating-value">0</span>
                    <input type="hidden" id="note-rating" value="0">
                </div>

                <div class="extra-links">
                    <h4><i class="fas fa-link"></i> External Links:</h4>
                    <div class="extra-link-input">
                        <input type="text" placeholder="Link Title" id="link-title-1">
                        <input type="url" placeholder="Link URL" id="link-url-1">
                    </div>
                    <div class="extra-link-input">
                        <input type="text" placeholder="Link Title" id="link-title-2">
                        <input type="url" placeholder="Link URL" id="link-url-2">
                    </div>
                    <div class="extra-link-input">
                        <input type="text" placeholder="Link Title" id="link-title-3">
                        <input type="url" placeholder="Link URL" id="link-url-3">
                    </div>
                    <div class="extra-link-input">
                        <input type="text" placeholder="Link Title" id="link-title-4">
                        <input type="url" placeholder="Link URL" id="link-url-4">
                    </div>
                </div>

                <button type="submit" class="auth-btn">Save Movie</button>
            </form>
        </div>

        <div class="admin-notes-list" id="admin-notes-list" style="display: none;">
            <div class="admin-notes-header">
                <h3><i class="fas fa-list"></i> My Movies</h3>
                <span class="total-notes" id="total-notes-count">0 Movies</span>
            </div>
            <div id="admin-notes-container">
                <!-- Admin notes will be inserted here -->
            </div>
        </div>
    </div>

    <div class="video-modal" id="video-modal">
        <div class="video-modal-content">
            <span class="close-video" id="close-video"><i class="fas fa-times"></i></span>
            <iframe id="video-player" src="" frameborder="0" allowfullscreen></iframe>
        </div>
    </div>

    <button class="home-btn" id="home-btn">
        <i class="fas fa-home"></i>
    </button>

    <div id="notification" class="notification"></div>

    <script>
        // Sample data for demonstration
        const sampleNotes = [{
                id: '1',
                title: 'Avengers: Endgame',
                content: 'After the devastating events of Avengers: Infinity War, the universe is in ruins. With the help of remaining allies, the Avengers assemble once more in order to reverse Thanos actions and restore balance to the universe.',
                createdAt: new Date('2023-08-15'),
                thumbnailUrl: 'https://m.media-amazon.com/images/M/MV5BMTc5MDE2ODcwNV5BMl5BanBnXkFtZTgwMzI2NzQ2NzM@._V1_FMjpg_UX1000_.jpg',
                videoUrl: 'https://www.youtube.com/embed/TcMBFSGVi1c',
                extraLinks: [{
                        title: 'IMDb Page',
                        url: 'https://www.imdb.com/title/tt4154796/'
                    },
                    {
                        title: 'Official Trailer',
                        url: 'https://www.youtube.com/watch?v=TcMBFSGVi1c'
                    },
                    {
                        title: 'Rotten Tomatoes',
                        url: 'https://www.rottentomatoes.com/m/avengers_endgame'
                    },
                    {
                        title: 'Wikipedia',
                        url: 'https://en.wikipedia.org/wiki/Avengers:_Endgame'
                    }
                ],
                comments: [{
                        user: 'Amjad',
                        text: 'Best Marvel movie ever!',
                        date: '2023-08-16'
                    },
                    {
                        user: 'Admin',
                        text: 'Absolutely loved it!',
                        date: '2023-08-16'
                    }
                ],
                rating: 4.8,
                year: 2019
            },
            {
                id: '2',
                title: 'Inception',
                content: 'A thief who steals corporate secrets through the use of dream-sharing technology is given the inverse task of planting an idea into the mind of a C.E.O.',
                createdAt: new Date('2023-08-16'),
                thumbnailUrl: 'https://m.media-amazon.com/images/M/MV5BMjAxMzY3NjcxNF5BMl5BanBnXkFtZTcwNTI5OTM0Mw@@._V1_FMjpg_UX1000_.jpg',
                videoUrl: 'https://www.youtube.com/embed/YoHD9XEInc0',
                extraLinks: [{
                        title: 'IMDb Page',
                        url: 'https://www.imdb.com/title/tt1375666/'
                    },
                    {
                        title: 'Official Trailer',
                        url: 'https://www.youtube.com/watch?v=YoHD9XEInc0'
                    },
                    {
                        title: 'Rotten Tomatoes',
                        url: 'https://www.rottentomatoes.com/m/inception'
                    },
                    {
                        title: 'Wikipedia',
                        url: 'https://en.wikipedia.org/wiki/Inception'
                    }
                ],
                comments: [{
                    user: 'User123',
                    text: 'Mind-blowing concept!',
                    date: '2023-08-17'
                }],
                rating: 4.9,
                year: 2010
            },
            {
                id: '3',
                title: 'The Dark Knight',
                content: 'When the menace known as the Joker wreaks havoc and chaos on the people of Gotham, Batman must accept one of the greatest psychological and physical tests of his ability to fight injustice.',
                createdAt: new Date('2023-08-17'),
                thumbnailUrl: 'https://m.media-amazon.com/images/M/MV5BMTMxNTMwODM0NF5BMl5BanBnXkFtZTcwODAyMTk2Mw@@._V1_FMjpg_UX1000_.jpg',
                videoUrl: 'https://www.youtube.com/embed/EXeTwQWrcwY',
                extraLinks: [{
                        title: 'IMDb Page',
                        url: 'https://www.imdb.com/title/tt0468569/'
                    },
                    {
                        title: 'Official Trailer',
                        url: 'https://www.youtube.com/watch?v=EXeTwQWrcwY'
                    },
                    {
                        title: 'Rotten Tomatoes',
                        url: 'https://www.rottentomatoes.com/m/the_dark_knight'
                    },
                    {
                        title: 'Wikipedia',
                        url: 'https://en.wikipedia.org/wiki/The_Dark_Knight_(film)'
                    }
                ],
                comments: [],
                rating: 5.0,
                year: 2008
            },
            {
                id: '4',
                title: 'Interstellar',
                content: 'A team of explorers travel through a wormhole in space in an attempt to ensure humanity survival.',
                createdAt: new Date('2023-08-18'),
                thumbnailUrl: 'https://m.media-amazon.com/images/M/MV5BZjdkOTU3MDktN2IxOS00OGEyLWFmMjktY2FiMmZkNWIyODZiXkEyXkFqcGdeQXVyMTMxODk2OTU@._V1_FMjpg_UX1000_.jpg',
                videoUrl: 'https://www.youtube.com/embed/zSWdZVtXT7E',
                extraLinks: [{
                        title: 'IMDb Page',
                        url: 'https://www.imdb.com/title/tt0816692/'
                    },
                    {
                        title: 'Official Trailer',
                        url: 'https://www.youtube.com/watch?v=zSWdZVtXT7E'
                    },
                    {
                        title: 'Rotten Tomatoes',
                        url: 'https://www.rottentomatoes.com/m/interstellar'
                    },
                    {
                        title: 'Wikipedia',
                        url: 'https://en.wikipedia.org/wiki/Interstellar_(film)'
                    }
                ],
                comments: [],
                rating: 4.7,
                year: 2014
            },
            {
                id: '5',
                title: 'The Shawshank Redemption',
                content: 'Two imprisoned men bond over a number of years, finding solace and eventual redemption through acts of common decency.',
                createdAt: new Date('2023-08-19'),
                thumbnailUrl: 'https://m.media-amazon.com/images/M/MV5BNDE3ODcxYzMtY2YzZC00NmNlLWJiNDMtZDViZWM2MzIxZDYwXkEyXkFqcGdeQXVyNjAwNDUxODI@._V1_FMjpg_UX1000_.jpg',
                videoUrl: 'https://www.youtube.com/embed/6hB3S9bIaco',
                extraLinks: [{
                        title: 'IMDb Page',
                        url: 'https://www.imdb.com/title/tt0111161/'
                    },
                    {
                        title: 'Official Trailer',
                        url: 'https://www.youtube.com/watch?v=6hB3S9bIaco'
                    },
                    {
                        title: 'Rotten Tomatoes',
                        url: 'https://www.rottentomatoes.com/m/shawshank_redemption'
                    },
                    {
                        title: 'Wikipedia',
                        url: 'https://en.wikipedia.org/wiki/The_Shawshank_Redemption'
                    }
                ],
                comments: [],
                rating: 4.9,
                year: 1994
            },
            {
                id: '6',
                title: 'Pulp Fiction',
                content: 'The lives of two mob hitmen, a boxer, a gangster and his wife, and a pair of diner bandits intertwine in four tales of violence and redemption.',
                createdAt: new Date('2023-08-20'),
                thumbnailUrl: 'https://m.media-amazon.com/images/M/MV5BNGNhMDIzZTUtNTBlZi00MTRlLWFjM2ItYzJjNDymEXKjFhXkEyXkFqcGdeQXVyNzkwMjQ5NzM@._V1_FMjpg_UX1000_.jpg',
                videoUrl: 'https://www.youtube.com/embed/s7EdQ4FqbhY',
                extraLinks: [{
                        title: 'IMDb Page',
                        url: 'https://www.imdb.com/title/tt0110912/'
                    },
                    {
                        title: 'Official Trailer',
                        url: 'https://www.youtube.com/watch?v=s7EdQ4FqbhY'
                    },
                    {
                        title: 'Rotten Tomatoes',
                        url: 'https://www.rottentomatoes.com/m/pulp_fiction'
                    },
                    {
                        title: 'Wikipedia',
                        url: 'https://en.wikipedia.org/wiki/Pulp_Fiction'
                    }
                ],
                comments: [],
                rating: 4.8,
                year: 1994
            }
        ];

        // UI Element Selectors
        const adminPanelToggleBtn = document.getElementById('admin-panel-toggle-btn');
        const closeAdminBtn = document.getElementById('close-admin-btn');
        const adminPanel = document.getElementById('admin-panel');
        const noteForm = document.getElementById('note-form');
        const notesGrid = document.getElementById('notes-grid');
        const adminNotesContainer = document.getElementById('admin-notes-container');
        const emptyState = document.getElementById('empty-state');
        const totalNotesCount = document.getElementById('total-notes-count');
        const notificationElem = document.getElementById('notification');
        const searchInput = document.getElementById('search-input');
        const searchBtn = document.getElementById('search-btn');
        const mobileSearchBtn = document.getElementById('mobile-search-btn');
        const themeToggle = document.getElementById('theme-toggle');
        const loginForm = document.getElementById('login-form');
        const noteCreator = document.getElementById('note-creator');
        const adminNotesList = document.getElementById('admin-notes-list');
        const loginBtn = document.getElementById('login-btn');
        const videoModal = document.getElementById('video-modal');
        const videoPlayer = document.getElementById('video-player');
        const closeVideo = document.getElementById('close-video');
        const homeBtn = document.getElementById('home-btn');
        const prevPageBtn = document.getElementById('prev-page');
        const nextPageBtn = document.getElementById('next-page');
        const thumbnailUpload = document.getElementById('thumbnail-upload');
        const thumbnailPreview = document.getElementById('thumbnail-preview');
        const stars = document.querySelectorAll('.star');
        const noteRatingInput = document.getElementById('note-rating');
        const ratingValue = document.getElementById('rating-value');
        const mainVideoPlayer = document.getElementById('main-video-player');
        const playBtn = document.getElementById('play-btn');
        const pauseBtn = document.getElementById('pause-btn');
        const volumeBtn = document.getElementById('volume-btn');

        let allNotes = [];
        let noteToEdit = null;
        let isLoggedIn = false;
        let currentPage = 1;
        const notesPerPage = 4;
        let currentSearchTerm = '';
        let currentVideoUrl = '';

        // Initialize the application
        function initApp() {
            // For demo purposes, use sample data
            allNotes = sampleNotes;
            renderNotes();
            updatePagination();

            // Check if dark mode was enabled
            if (localStorage.getItem('darkMode') === 'enabled') {
                document.body.classList.add('dark-mode');
                themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
            }
        }

        // Function to show notifications
        function showNotification(message, isError = false) {
            notificationElem.textContent = message;
            notificationElem.className = `notification show ${isError ? 'error' : ''}`;
            setTimeout(() => {
                notificationElem.classList.remove('show');
            }, 3000);
        }

        // Toggle Admin Panel
        adminPanelToggleBtn.addEventListener('click', () => {
            adminPanel.classList.add('active');
        });

        closeAdminBtn.addEventListener('click', () => {
            adminPanel.classList.remove('active');
        });

        // Toggle theme
        themeToggle.addEventListener('click', () => {
            document.body.classList.toggle('dark-mode');
            if (document.body.classList.contains('dark-mode')) {
                themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
                localStorage.setItem('darkMode', 'enabled');
            } else {
                themeToggle.innerHTML = '<i class="fas fa-moon"></i>';
                localStorage.setItem('darkMode', 'disabled');
            }
        });

        // Login functionality
        loginBtn.addEventListener('click', () => {
            const email = document.getElementById('admin-email').value;
            const password = document.getElementById('admin-password').value;

            if (email === 'amjad0786@gmail.com' && password === 'password') {
                isLoggedIn = true;
                loginForm.style.display = 'none';
                noteCreator.style.display = 'block';
                adminNotesList.style.display = 'block';
                renderAdminNotes();
                showNotification('Login successful!');
            } else {
                showNotification('Invalid credentials. Try email: amjad@gmail.com, password: password', true);
            }
        });

        // Home button functionality
        homeBtn.addEventListener('click', () => {
            currentPage = 1;
            currentSearchTerm = '';
            searchInput.value = '';
            renderNotes();
            updatePagination();
            window.scrollTo(0, 0);
        });

        // Pagination functionality
        prevPageBtn.addEventListener('click', () => {
            if (currentPage > 1) {
                currentPage--;
                renderNotes();
                updatePagination();
                window.scrollTo(0, 0);
            }
        });

        nextPageBtn.addEventListener('click', () => {
            const totalPages = Math.ceil(allNotes.length / notesPerPage);
            if (currentPage < totalPages) {
                currentPage++;
                renderNotes();
                updatePagination();
                window.scrollTo(0, 0);
            }
        });

        // Update pagination buttons
        function updatePagination() {
            const totalPages = Math.ceil(allNotes.length / notesPerPage);
            prevPageBtn.disabled = currentPage === 1;
            nextPageBtn.disabled = currentPage === totalPages || totalPages === 0;
        }

        // Search functionality
        searchBtn.addEventListener('click', () => {
            currentSearchTerm = searchInput.value.toLowerCase();
            currentPage = 1;
            renderNotes();
            updatePagination();
        });

        mobileSearchBtn.addEventListener('click', () => {
            currentSearchTerm = searchInput.value.toLowerCase();
            currentPage = 1;
            renderNotes();
            updatePagination();
        });

        searchInput.addEventListener('keyup', (e) => {
            if (e.key === 'Enter') {
                currentSearchTerm = searchInput.value.toLowerCase();
                currentPage = 1;
                renderNotes();
                updatePagination();
            }
        });

        // Thumbnail upload functionality
        thumbnailUpload.addEventListener('change', (e) => {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = (e) => {
                    thumbnailPreview.innerHTML = `
                        <img src="${e.target.result}" style="max-width: 100%; border-radius: 8px; margin-top: 10px;">
                    `;
                };
                reader.readAsDataURL(file);
            }
        });

        // Star rating functionality
        stars.forEach(star => {
            star.addEventListener('click', () => {
                const value = parseInt(star.getAttribute('data-value'));
                noteRatingInput.value = value;
                ratingValue.textContent = value;

                stars.forEach(s => {
                    const starValue = parseInt(s.getAttribute('data-value'));
                    if (starValue <= value) {
                        s.classList.add('active');
                    } else {
                        s.classList.remove('active');
                    }
                });
            });

            star.addEventListener('mouseover', () => {
                const value = parseInt(star.getAttribute('data-value'));

                stars.forEach(s => {
                    const starValue = parseInt(s.getAttribute('data-value'));
                    if (starValue <= value) {
                        s.style.color = '#ffc107';
                    } else {
                        s.style.color = '#ccc';
                    }
                });
            });

            star.addEventListener('mouseout', () => {
                const currentRating = parseInt(noteRatingInput.value);

                stars.forEach(s => {
                    const starValue = parseInt(s.getAttribute('data-value'));
                    if (starValue <= currentRating) {
                        s.style.color = '#ffc107';
                    } else {
                        s.style.color = '#ccc';
                    }
                });
            });
        });

        // Toggle full note content
        function toggleNoteContent(event) {
            const noteContent = event.target.closest('.note').querySelector('.note-content');
            const button = event.target;

            noteContent.classList.toggle('expanded');
            button.textContent = noteContent.classList.contains('expanded') ? 'Read Less' : 'Read More';
        }

        // Toggle comments section
        function toggleComments(event) {
            const commentsSection = event.target.closest('.note').querySelector('.comments-section');
            commentsSection.classList.toggle('active');
        }

        // Play video in modal
        function playVideo(videoUrl) {
            videoPlayer.src = videoUrl;
            videoModal.classList.add('active');
        }

        // Play video in main player
        function playInMainPlayer(videoUrl, title) {
            currentVideoUrl = videoUrl;
            mainVideoPlayer.innerHTML = `
                <iframe width="100%" height="100%" src="${videoUrl}" frameborder="0" allowfullscreen></iframe>
            `;
            document.querySelector('.video-player-header h3').innerHTML = `<i class="fas fa-play-circle"></i> ${title}`;
            showNotification('Now playing: ' + title);
        }

        closeVideo.addEventListener('click', () => {
            videoModal.classList.remove('active');
            videoPlayer.src = '';
        });

        // Copy link to clipboard
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                showNotification('Link copied to clipboard!');
            }).catch(err => {
                showNotification('Failed to copy link', true);
            });
        }

        // Video player controls
        playBtn.addEventListener('click', () => {
            if (currentVideoUrl) {
                const iframe = mainVideoPlayer.querySelector('iframe');
                if (iframe) {
                    iframe.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}', '*');
                }
            } else {
                showNotification('No video selected', true);
            }
        });

        pauseBtn.addEventListener('click', () => {
            if (currentVideoUrl) {
                const iframe = mainVideoPlayer.querySelector('iframe');
                if (iframe) {
                    iframe.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}', '*');
                }
            } else {
                showNotification('No video selected', true);
            }
        });

        volumeBtn.addEventListener('click', () => {
            if (currentVideoUrl) {
                const iframe = mainVideoPlayer.querySelector('iframe');
                if (iframe) {
                    iframe.contentWindow.postMessage('{"event":"command","func":"mute","args":""}', '*');
                }
            } else {
                showNotification('No video selected', true);
            }
        });

        // Render all notes with pagination and search
        function renderNotes() {
            notesGrid.innerHTML = '';

            // Filter notes based on search term
            let filteredNotes = allNotes;
            if (currentSearchTerm) {
                filteredNotes = allNotes.filter(note =>
                    note.title.toLowerCase().includes(currentSearchTerm) ||
                    note.content.toLowerCase().includes(currentSearchTerm)
                );
            }

            if (filteredNotes.length === 0) {
                emptyState.style.display = 'flex';
                return;
            }

            emptyState.style.display = 'none';

            // Apply pagination
            const startIndex = (currentPage - 1) * notesPerPage;
            const endIndex = startIndex + notesPerPage;
            const paginatedNotes = filteredNotes.slice(startIndex, endIndex);

            paginatedNotes.forEach(note => {
                renderNote(note);
            });
        }

        // Render a single note card
        function renderNote(note) {
            const hasVideo = note.videoUrl && note.thumbnailUrl;
            const contentIsLong = note.content.length > 250;
            const hasExtraLinks = note.extraLinks && note.extraLinks.length > 0;
            const hasComments = note.comments && note.comments.length > 0;

            const noteHtml = `
                <div class="note">
                    ${hasVideo ? `
                    <div class="video-container">
                        <img src="${note.thumbnailUrl}" alt="Video Thumbnail" class="video-thumbnail" onclick="playVideo('${note.videoUrl}')">
                        <div class="play-button" onclick="playVideo('${note.videoUrl}')"><i class="fas fa-play-circle"></i></div>
                    </div>` : ''}
                    <h3 class="note-title">${note.title} <span class="year-badge">${note.year}</span></h3>
                    <div class="note-content">
                        ${note.content}
                        ${contentIsLong ? `<span class="read-more" onclick="toggleNoteContent(event)">Read More</span>` : ''}
                    </div>
                    
                    ${hasExtraLinks ? `
                    <div class="video-links">
                        ${note.extraLinks.map(link => `
                            <div class="video-link-item">
                                <a href="${link.url}" target="_blank">${link.title}</a>
                                <div class="link-actions">
                                    <button class="copy-btn" onclick="copyToClipboard('${link.url}')"><i class="fas fa-copy"></i> Copy</button>
                                </div>
                            </div>
                        `).join('')}
                    </div>` : ''}
                    
                    <div class="note-rating">
                        ${renderStarRating(note.rating)}
                        <span class="note-rating-value">${note.rating.toFixed(1)}</span>
                    </div>
                    
                    <div class="note-footer">
                        <span>${note.createdAt.toLocaleDateString()}</span>
                        <div class="note-actions">
                            <button class="note-action-btn" onclick="toggleComments(event)">
                                <i class="fas fa-comment"></i> ${hasComments ? note.comments.length : 0}
                            </button>
                            <button class="note-action-btn" onclick="playInMainPlayer('${note.videoUrl}', '${note.title}')">
                                <i class="fas fa-play"></i> Play in Main Player
                            </button>
                        </div>
                    </div>
                    
                    <div class="comments-section">
                        <div class="comment-list">
                            ${hasComments ? note.comments.map(comment => `
                                <div class="comment">
                                    <strong>${comment.user}</strong> (${comment.date}):<br>
                                    ${comment.text}
                                </div>
                            `).join('') : '<p>No comments yet.</p>'}
                        </div>
                        <div class="comment-form">
                            <input type="text" class="comment-input" placeholder="Add a comment...">
                            <button class="comment-submit">Post</button>
                        </div>
                    </div>
                </div>
            `;
            const noteElement = document.createElement('div');
            noteElement.innerHTML = noteHtml;
            notesGrid.appendChild(noteElement.firstElementChild);
        }

        // Render star rating
        function renderStarRating(rating) {
            let starsHtml = '';
            const fullStars = Math.floor(rating);
            const hasHalfStar = rating % 1 >= 0.5;

            for (let i = 1; i <= 5; i++) {
                if (i <= fullStars) {
                    starsHtml += '<span class="star active">★</span>';
                } else if (i === fullStars + 1 && hasHalfStar) {
                    starsHtml += '<span class="star active">★</span>';
                } else {
                    starsHtml += '<span class="star">★</span>';
                }
            }

            return starsHtml;
        }

        // Render admin notes list
        function renderAdminNotes() {
            adminNotesContainer.innerHTML = '';

            allNotes.forEach(note => {
                renderAdminNote(note);
            });
        }

        // Render a single admin note item
        function renderAdminNote(note) {
            const adminNoteHtml = `
                <div class="admin-note-item">
                    <h4 class="admin-note-title">${note.title} <span class="year-badge">${note.year}</span></h4>
                    <div class="admin-note-actions">
                        <button class="admin-btn edit-btn" data-id="${note.id}">Edit</button>
                        <button class="admin-btn delete-btn" data-id="${note.id}">Delete</button>
                    </div>
                </div>
            `;
            const adminNoteElement = document.createElement('div');
            adminNoteElement.innerHTML = adminNoteHtml;
            adminNotesContainer.appendChild(adminNoteElement.firstElementChild);
        }

        // Update notes count
        function updateNotesCount(count) {
            totalNotesCount.textContent = `${count} Movies`;
        }

        // Handle form submission for adding/updating notes
        noteForm.addEventListener('submit', (e) => {
            e.preventDefault();

            if (!isLoggedIn) {
                showNotification('Please login first', true);
                return;
            }

            const title = document.getElementById('note-title').value;
            const content = document.getElementById('note-content').value;
            const videoUrl = document.getElementById('video-url').value;
            const rating = parseInt(noteRatingInput.value) || 0;
            const year = new Date().getFullYear(); // Current year as default

            // Get extra links
            const extraLinks = [];
            for (let i = 1; i <= 4; i++) {
                const title = document.getElementById(`link-title-${i}`).value;
                const url = document.getElementById(`link-url-${i}`).value;
                if (title && url) {
                    extraLinks.push({
                        title,
                        url
                    });
                }
            }

            if (noteToEdit) {
                // Update existing note
                const noteIndex = allNotes.findIndex(note => note.id === noteToEdit);
                if (noteIndex !== -1) {
                    allNotes[noteIndex] = {
                        ...allNotes[noteIndex],
                        title,
                        content,
                        videoUrl,
                        extraLinks,
                        rating,
                        year
                    };
                }
                showNotification("Movie updated successfully!");
                noteToEdit = null;
                document.querySelector('.auth-btn').textContent = "Save Movie";
            } else {
                // Add new note
                const newNote = {
                    id: Date.now().toString(),
                    title,
                    content,
                    thumbnailUrl: 'https://m.media-amazon.com/images/M/MV5BMTc5MDE2ODcwNV5BMl5BanBnXkFtZTgwMzI2NzQ2NzM@._V1_FMjpg_UX1000_.jpg',
                    videoUrl,
                    extraLinks,
                    comments: [],
                    rating,
                    year,
                    createdAt: new Date()
                };
                allNotes.unshift(newNote);
                showNotification("Movie added successfully!");
            }

            renderNotes();
            renderAdminNotes();
            updateNotesCount(allNotes.length);
            updatePagination();
            noteForm.reset();
            thumbnailPreview.innerHTML = '';

            // Reset stars
            stars.forEach(star => {
                star.classList.remove('active');
            });
            noteRatingInput.value = '0';
            ratingValue.textContent = '0';
        });

        // Handle note actions in the admin panel
        adminNotesContainer.addEventListener('click', (e) => {
            if (!isLoggedIn) {
                showNotification('Please login first', true);
                return;
            }

            const button = e.target;
            const noteId = button.dataset.id;

            if (button.classList.contains('delete-btn')) {
                allNotes = allNotes.filter(note => note.id !== noteId);
                renderNotes();
                renderAdminNotes();
                updateNotesCount(allNotes.length);
                updatePagination();
                showNotification("Movie deleted successfully!");
            } else if (button.classList.contains('edit-btn')) {
                const note = allNotes.find(n => n.id === noteId);
                if (note) {
                    document.getElementById('note-title').value = note.title;
                    document.getElementById('note-content').value = note.content;
                    document.getElementById('video-url').value = note.videoUrl || '';
                    noteRatingInput.value = note.rating || 0;
                    ratingValue.textContent = note.rating || 0;

                    // Set stars
                    stars.forEach(star => {
                        const starValue = parseInt(star.getAttribute('data-value'));
                        if (starValue <= note.rating) {
                            star.classList.add('active');
                        } else {
                            star.classList.remove('active');
                        }
                    });

                    // Fill extra links
                    for (let i = 1; i <= 4; i++) {
                        document.getElementById(`link-title-${i}`).value = '';
                        document.getElementById(`link-url-${i}`).value = '';
                    }

                    if (note.extraLinks) {
                        note.extraLinks.forEach((link, index) => {
                            if (index < 4) {
                                document.getElementById(`link-title-${index+1}`).value = link.title;
                                document.getElementById(`link-url-${index+1}`).value = link.url;
                            }
                        });
                    }

                    noteToEdit = noteId;
                    document.querySelector('.auth-btn').textContent = "Update Movie";
                    adminPanel.classList.add('active');
                    showNotification("Editing movie...");
                }
            }
        });

        // Initialize the app
        initApp();
    </script>
</body>

</html>